import{r as c,I as k,H as A,J as F,d as R,b as J,K as B}from"./index.2eb037dd.js";function H(){if(console&&console.warn){for(var r,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];typeof n[0]=="string"&&(n[0]="react-i18next:: ".concat(n[0])),(r=console).warn.apply(r,n)}}var L={};function N(){for(var r=arguments.length,e=new Array(r),n=0;n<r;n++)e[n]=arguments[n];typeof e[0]=="string"&&L[e[0]]||(typeof e[0]=="string"&&(L[e[0]]=new Date),H.apply(void 0,e))}function T(r,e,n){r.loadNamespaces(e,function(){if(r.isInitialized)n();else{var a=function u(){setTimeout(function(){r.off("initialized",u)},0),n()};r.on("initialized",a)}})}function K(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],u=e.options?e.options.fallbackLng:!1,p=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var t=function(d,f){var v=e.services.backendConnector.state["".concat(d,"|").concat(f)];return v===-1||v===2};return n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!t(e.isLanguageChangingTo,r)?!1:!!(e.hasResourceBundle(a,r)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||t(a,r)&&(!u||t(p,r)))}function M(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return N("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(r,{precheck:function(p,t){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&p.services.backendConnector.backend&&p.isLanguageChangingTo&&!t(p.isLanguageChangingTo,r))return!1}}):K(r,e,n)}function E(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),n.push.apply(n,a)}return n}function S(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E(Object(n),!0).forEach(function(a){J(r,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(n,a))})}return r}var U=function(e,n){var a=c.exports.useRef();return c.exports.useEffect(function(){a.current=n?a.current:e},[e,n]),a.current};function Y(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.i18n,a=c.exports.useContext(k)||{},u=a.i18n,p=a.defaultNS,t=n||u||B();if(t&&!t.reportNamespaces&&(t.reportNamespaces=new A),!t){N("You will need to pass in an i18next instance by using initReactI18next");var y=function(s){return Array.isArray(s)?s[s.length-1]:s},d=[y,{},!1];return d.t=y,d.i18n={},d.ready=!1,d}t.options.react&&t.options.react.wait!==void 0&&N("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=S(S(S({},F()),t.options.react),e),v=f.useSuspense,z=f.keyPrefix,o=r||p||t.options&&t.options.defaultNS;o=typeof o=="string"?[o]:o||["translation"],t.reportNamespaces.addUsedNamespaces&&t.reportNamespaces.addUsedNamespaces(o);var g=(t.isInitialized||t.initializedStoreOnce)&&o.every(function(i){return M(i,t,f)});function m(){return t.getFixedT(null,f.nsMode==="fallback"?o:o[0],z)}var D=c.exports.useState(m),P=R(D,2),I=P[0],h=P[1],x=o.join(),C=U(x),l=c.exports.useRef(!0);c.exports.useEffect(function(){var i=f.bindI18n,s=f.bindI18nStore;l.current=!0,!g&&!v&&T(t,o,function(){l.current&&h(m)}),g&&C&&C!==x&&l.current&&h(m);function w(){l.current&&h(m)}return i&&t&&t.on(i,w),s&&t&&t.store.on(s,w),function(){l.current=!1,i&&t&&i.split(" ").forEach(function(O){return t.off(O,w)}),s&&t&&s.split(" ").forEach(function(O){return t.store.off(O,w)})}},[t,x]);var j=c.exports.useRef(!0);c.exports.useEffect(function(){l.current&&!j.current&&h(m),j.current=!1},[t]);var b=[I,t,g];if(b.t=I,b.i18n=t,b.ready=g,g||!g&&!v)return b;throw new Promise(function(i){T(t,o,function(){i()})})}export{Y as u};
